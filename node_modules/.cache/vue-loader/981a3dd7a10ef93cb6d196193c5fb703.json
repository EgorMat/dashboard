{"remainingRequest":"D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dashboard\\src\\components\\DoorsTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dashboard\\src\\components\\DoorsTable.vue","mtime":1545850283088},{"path":"D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport TableRow from './TableRow.vue'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'DoorsTable',\r\n  components: {\r\n    TableRow\r\n  },\r\n  data(){\r\n    return {\r\n      data: [],\r\n      headers: {\r\n        \"name\": \"Клиент\",\r\n        \"turnaround\": \"Обор\",\r\n         \"part_in_brand\": \"Доля в бренде\",\r\n         \"target\": \"Target\",\r\n         \"matrix\": \"Матрица\",\r\n         \"stok_qt\": \"stok(шт)\",\r\n         \"stock_per\": \"stok(%)\",\r\n         \"sell_out\": \"Sell Out\",\r\n         \"ytd\": \"YTD\",\r\n         \"trend\": \"trend\"\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getDoors(){\r\n      this.data = [];\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors',\r\n        headers: {\r\n          'X-Token' : this.$cookie.get('token')\r\n        }\r\n      }).then((resp) => {\r\n        this.doors = resp.data.doors;\r\n        for (let i = 0; i<=this.doors.length-1; i++){\r\n          axios({\r\n            method: \"get\",\r\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors/' + resp.data.doors[i].id,\r\n            headers: {\r\n              'X-Token' :'ba8c2a64576b4f0fb2cd206f959dabd9'\r\n               // this.$cookie.get('token')\r\n            }\r\n        })\r\n        .then((resp)=>{\r\n          this.data.push(Object.assign({}, this.doors[i], resp.data))\r\n            // this.companies = resp.data\r\n        })\r\n      }\r\n              });\r\n    },\r\n    headerClick(id){\r\n      console.log(this.$route.params)\r\n      this.$router.push({name: 'upc', params: {companyId : this.$route.params.companyId, doorId : id}})\r\n      this.$store.dispatch('addNavItem', id)\r\n    }\r\n\r\n  },\r\n  created(){\r\n    this.$store.dispatch('changeIsTable', true).\r\n    then(()=>{\r\n        this.getDoors()\r\n    })\r\n  }\r\n\r\n}\r\n",{"version":3,"sources":["DoorsTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"DoorsTable.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n  <div class=\"tableWrap\">\r\n    <TableRow :data=\"headers\" :name=\"headers.name\" class=\"headers\" />\r\n    <TableRow v-for=\"item in data\"\r\n              :data=\"item\"\r\n              :id=\"item.id\"\r\n              :name=\"item.name\"\r\n              :showOrder=\"false\"\r\n              v-on:headerClick=\"headerClick\"\r\n              :key=\"item.id\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableRow from './TableRow.vue'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'DoorsTable',\r\n  components: {\r\n    TableRow\r\n  },\r\n  data(){\r\n    return {\r\n      data: [],\r\n      headers: {\r\n        \"name\": \"Клиент\",\r\n        \"turnaround\": \"Обор\",\r\n         \"part_in_brand\": \"Доля в бренде\",\r\n         \"target\": \"Target\",\r\n         \"matrix\": \"Матрица\",\r\n         \"stok_qt\": \"stok(шт)\",\r\n         \"stock_per\": \"stok(%)\",\r\n         \"sell_out\": \"Sell Out\",\r\n         \"ytd\": \"YTD\",\r\n         \"trend\": \"trend\"\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getDoors(){\r\n      this.data = [];\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors',\r\n        headers: {\r\n          'X-Token' : this.$cookie.get('token')\r\n        }\r\n      }).then((resp) => {\r\n        this.doors = resp.data.doors;\r\n        for (let i = 0; i<=this.doors.length-1; i++){\r\n          axios({\r\n            method: \"get\",\r\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors/' + resp.data.doors[i].id,\r\n            headers: {\r\n              'X-Token' :'ba8c2a64576b4f0fb2cd206f959dabd9'\r\n               // this.$cookie.get('token')\r\n            }\r\n        })\r\n        .then((resp)=>{\r\n          this.data.push(Object.assign({}, this.doors[i], resp.data))\r\n            // this.companies = resp.data\r\n        })\r\n      }\r\n              });\r\n    },\r\n    headerClick(id){\r\n      console.log(this.$route.params)\r\n      this.$router.push({name: 'upc', params: {companyId : this.$route.params.companyId, doorId : id}})\r\n      this.$store.dispatch('addNavItem', id)\r\n    }\r\n\r\n  },\r\n  created(){\r\n    this.$store.dispatch('changeIsTable', true).\r\n    then(()=>{\r\n        this.getDoors()\r\n    })\r\n  }\r\n\r\n}\r\n</script>\r\n"]}]}