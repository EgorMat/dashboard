{"remainingRequest":"D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js!D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dashboard\\src\\components\\DoorsTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dashboard\\src\\components\\DoorsTable.vue","mtime":1545612374310},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TableRow from './TableRow.vue';\nimport axios from 'axios';\nexport default {\n  name: 'DoorsTable',\n  components: {\n    TableRow: TableRow\n  },\n  data: function data() {\n    return {\n      data: [],\n      headers: {\n        \"name\": \"Клиент\",\n        \"turnaround\": \"Обор\",\n        \"part_in_brand\": \"Доля в бренде\",\n        \"target\": \"Target\",\n        \"matrix\": \"Матрица\",\n        \"stok_qt\": \"stok(шт)\",\n        \"stock_per\": \"stok(%)\",\n        \"sell_out\": \"Sell Out\",\n        \"ytd\": \"YTD\",\n        \"trend\": \"trend\"\n      }\n    };\n  },\n  methods: {\n    getDoors: function getDoors() {\n      var _this = this;\n\n      this.data = [];\n      axios({\n        method: \"get\",\n        url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors',\n        headers: {\n          'X-Token': this.$cookie.get('token')\n        }\n      }).then(function (resp) {\n        _this.doors = resp.data.doors;\n\n        var _loop = function _loop(i) {\n          axios({\n            method: \"get\",\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + _this.$route.params.companyId + '/doors/' + resp.data.doors[i].id,\n            headers: {\n              'X-Token': 'ba8c2a64576b4f0fb2cd206f959dabd9' // this.$cookie.get('token')\n\n            }\n          }).then(function (resp) {\n            _this.data.push(Object.assign({}, _this.doors[i], resp.data)); // this.companies = resp.data\n\n          });\n        };\n\n        for (var i = 0; i <= _this.doors.length - 1; i++) {\n          _loop(i);\n        }\n      });\n    },\n    headerClick: function headerClick(id) {\n      console.log(this.$route.params);\n      this.$router.push({\n        name: 'upc',\n        params: {\n          companyId: this.$route.params.companyId,\n          doorId: id\n        }\n      });\n      this.$store.dispatch('addNavItem', id);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.$store.dispatch('changeIsTable', true).then(function () {\n      _this2.getDoors();\n    });\n  }\n};",{"version":3,"sources":["DoorsTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA,OAAA,QAAA,MAAA,gBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAGA,eAAA;AACA,QAAA,YADA;AAEA,cAAA;AACA;AADA,GAFA;AAKA,MALA,kBAKA;AACA,WAAA;AACA,YAAA,EADA;AAEA,eAAA;AACA,gBAAA,QADA;AAEA,sBAAA,MAFA;AAGA,yBAAA,eAHA;AAIA,kBAAA,QAJA;AAKA,kBAAA,SALA;AAMA,mBAAA,UANA;AAOA,qBAAA,SAPA;AAQA,oBAAA,UARA;AASA,eAAA,KATA;AAUA,iBAAA;AAVA;AAFA,KAAA;AAeA,GArBA;AAsBA,WAAA;AACA,YADA,sBACA;AAAA;;AACA,WAAA,IAAA,GAAA,EAAA;AACA,YAAA;AACA,gBAAA,KADA;AAEA,aAAA,sDAAA,KAAA,MAAA,CAAA,MAAA,CAAA,SAAA,GAAA,QAFA;AAGA,iBAAA;AACA,qBAAA,KAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AADA;AAHA,OAAA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AACA,cAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;;AADA,mCAEA,CAFA;AAGA,gBAAA;AACA,oBAAA,KADA;AAEA,iBAAA,sDAAA,MAAA,MAAA,CAAA,MAAA,CAAA,SAAA,GAAA,SAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAFA;AAGA,qBAAA;AACA,yBAAA,kCADA,CAEA;;AAFA;AAHA,WAAA,EAQA,IARA,CAQA,UAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,OAAA,MAAA,CAAA,EAAA,EAAA,MAAA,KAAA,CAAA,CAAA,CAAA,EAAA,KAAA,IAAA,CAAA,EADA,CAEA;;AACA,WAXA;AAHA;;AAEA,aAAA,IAAA,IAAA,CAAA,EAAA,KAAA,MAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA;AAAA,gBAAA,CAAA;AAaA;AACA,OAtBA;AAuBA,KA1BA;AA2BA,eA3BA,uBA2BA,EA3BA,EA2BA;AACA,cAAA,GAAA,CAAA,KAAA,MAAA,CAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,KAAA;AAAA,gBAAA;AAAA,qBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,SAAA;AAAA,kBAAA;AAAA;AAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,EAAA;AACA;AA/BA,GAtBA;AAwDA,SAxDA,qBAwDA;AAAA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,IAAA,EACA,IADA,CACA,YAAA;AACA,aAAA,QAAA;AACA,KAHA;AAIA;AA7DA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <TableRow :data=\"headers\" :name=\"headers.name\" class=\"headers\" />\r\n    <TableRow v-for=\"item in data\"\r\n              :data=\"item\"\r\n              :id=\"item.id\"\r\n              :name=\"item.name\"\r\n              :showOrder=\"false\"\r\n              v-on:headerClick=\"headerClick\"\r\n              :key=\"item.id\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableRow from './TableRow.vue'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n  name: 'DoorsTable',\r\n  components: {\r\n    TableRow\r\n  },\r\n  data(){\r\n    return {\r\n      data: [],\r\n      headers: {\r\n        \"name\": \"Клиент\",\r\n        \"turnaround\": \"Обор\",\r\n         \"part_in_brand\": \"Доля в бренде\",\r\n         \"target\": \"Target\",\r\n         \"matrix\": \"Матрица\",\r\n         \"stok_qt\": \"stok(шт)\",\r\n         \"stock_per\": \"stok(%)\",\r\n         \"sell_out\": \"Sell Out\",\r\n         \"ytd\": \"YTD\",\r\n         \"trend\": \"trend\"\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getDoors(){\r\n      this.data = [];\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors',\r\n        headers: {\r\n          'X-Token' : this.$cookie.get('token')\r\n        }\r\n      }).then((resp) => {\r\n        this.doors = resp.data.doors;\r\n        for (let i = 0; i<=this.doors.length-1; i++){\r\n          axios({\r\n            method: \"get\",\r\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors/' + resp.data.doors[i].id,\r\n            headers: {\r\n              'X-Token' :'ba8c2a64576b4f0fb2cd206f959dabd9'\r\n               // this.$cookie.get('token')\r\n            }\r\n        })\r\n        .then((resp)=>{\r\n          this.data.push(Object.assign({}, this.doors[i], resp.data))\r\n            // this.companies = resp.data\r\n        })\r\n      }\r\n              });\r\n    },\r\n    headerClick(id){\r\n      console.log(this.$route.params)\r\n      this.$router.push({name: 'upc', params: {companyId : this.$route.params.companyId, doorId : id}})\r\n      this.$store.dispatch('addNavItem', id)\r\n    }\r\n\r\n  },\r\n  created(){\r\n    this.$store.dispatch('changeIsTable', true).\r\n    then(()=>{\r\n        this.getDoors()\r\n    })\r\n  }\r\n\r\n}\r\n</script>\r\n"],"sourceRoot":"src\\components"}]}