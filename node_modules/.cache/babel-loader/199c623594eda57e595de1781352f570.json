{"remainingRequest":"D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js!D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dashboard\\src\\components\\UPCTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dashboard\\src\\components\\UPCTable.vue","mtime":1545850257429},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TableRow from './TableRow.vue';\nimport axios from 'axios';\nexport default {\n  name: 'UPCTable',\n  components: {\n    TableRow: TableRow\n  },\n  data: function data() {\n    return {\n      data: [],\n      upc: [],\n      headers: {\n        \"name\": \"Клиент\",\n        \"turnaround\": \"Обор\",\n        \"part_in_brand\": \"Доля в бренде\",\n        \"target\": \"Target\",\n        \"matrix\": \"Матрица\",\n        \"stok_qt\": \"stok(шт)\",\n        \"stock_per\": \"stok(%)\",\n        \"sell_out\": \"Sell Out\",\n        \"ytd\": \"YTD\",\n        \"trend\": \"trend\"\n      }\n    };\n  },\n  methods: {\n    getUpc: function getUpc() {\n      var _this = this;\n\n      this.data = [];\n      axios({\n        method: \"get\",\n        url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors/' + this.$route.params.doorId + '/upc',\n        headers: {\n          'X-Token': this.$cookie.get('token')\n        }\n      }).then(function (resp) {\n        console.log(resp);\n        _this.upc = resp.data.UPCs;\n\n        var _loop = function _loop(i) {\n          axios({\n            method: \"get\",\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + _this.$route.params.companyId + '/doors/' + _this.$route.params.doorId + '/upc/' + resp.data.UPCs[i].id,\n            headers: {\n              'X-Token': 'ba8c2a64576b4f0fb2cd206f959dabd9' // this.$cookie.get('token')\n\n            }\n          }).then(function (resp) {\n            console.log(resp.data);\n\n            _this.data.push(Object.assign({}, _this.upc[i], resp.data));\n\n            console.log(_this.data[i]); // this.companies = resp.data\n          });\n        };\n\n        for (var i = 0; i <= _this.upc.length - 1; i++) {\n          _loop(i);\n        }\n      });\n    },\n    headerClick: function headerClick(id) {\n      this.$router.push({\n        name: 'doors',\n        params: {\n          companyId: id\n        }\n      });\n      this.$store.dispatch('addNavItem');\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.$store.dispatch('changeIsTable', true).then(function () {\n      _this2.getUpc();\n    });\n  }\n};",{"version":3,"sources":["UPCTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA,OAAA,QAAA,MAAA,gBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,QAAA,UADA;AAEA,cAAA;AACA;AADA,GAFA;AAKA,MALA,kBAKA;AACA,WAAA;AACA,YAAA,EADA;AAEA,WAAA,EAFA;AAGA,eAAA;AACA,gBAAA,QADA;AAEA,sBAAA,MAFA;AAGA,yBAAA,eAHA;AAIA,kBAAA,QAJA;AAKA,kBAAA,SALA;AAMA,mBAAA,UANA;AAOA,qBAAA,SAPA;AAQA,oBAAA,UARA;AASA,eAAA,KATA;AAUA,iBAAA;AAVA;AAHA,KAAA;AAgBA,GAtBA;AAuBA,WAAA;AACA,UADA,oBACA;AAAA;;AACA,WAAA,IAAA,GAAA,EAAA;AACA,YAAA;AACA,gBAAA,KADA;AAEA,aAAA,sDAAA,KAAA,MAAA,CAAA,MAAA,CAAA,SAAA,GAAA,SAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,MAFA;AAGA,iBAAA;AACA,qBAAA,KAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AADA;AAHA,OAAA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AACA,gBAAA,GAAA,CAAA,IAAA;AACA,cAAA,GAAA,GAAA,KAAA,IAAA,CAAA,IAAA;;AAFA,mCAGA,CAHA;AAIA,gBAAA;AACA,oBAAA,KADA;AAEA,iBAAA,sDAAA,MAAA,MAAA,CAAA,MAAA,CAAA,SAAA,GAAA,SAAA,GAAA,MAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,OAAA,GAAA,KAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,EAFA;AAGA,qBAAA;AACA,yBAAA,kCADA,CAEA;;AAFA;AAHA,WAAA,EAQA,IARA,CAQA,UAAA,IAAA,EAAA;AACA,oBAAA,GAAA,CAAA,KAAA,IAAA;;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,OAAA,MAAA,CAAA,EAAA,EAAA,MAAA,GAAA,CAAA,CAAA,CAAA,EAAA,KAAA,IAAA,CAAA;;AACA,oBAAA,GAAA,CAAA,MAAA,IAAA,CAAA,CAAA,CAAA,EAHA,CAIA;AACA,WAbA;AAJA;;AAGA,aAAA,IAAA,IAAA,CAAA,EAAA,KAAA,MAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA;AAAA,gBAAA,CAAA;AAeA;AACA,OAzBA;AA0BA,KA7BA;AA+BA,eA/BA,uBA+BA,EA/BA,EA+BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,OAAA;AAAA,gBAAA;AAAA,qBAAA;AAAA;AAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA;AAEA;AAnCA,GAvBA;AA4DA,SA5DA,qBA4DA;AAAA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,IAAA,EACA,IADA,CACA,YAAA;AACA,aAAA,MAAA;AACA,KAHA;AAKA;AAlEA,CAAA","sourcesContent":["<template>\r\n  <div class=\"tableWrap\">\r\n    <TableRow :data=\"headers\" :name=\"headers.name\" class=\"headers\" />\r\n    <TableRow v-for=\"item in data\"\r\n              :data=\"item\"\r\n              :id=\"item.id\"\r\n              :name=\"item.name\"\r\n              :showOrder=\"false\"\r\n              :key=\"item.id\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableRow from './TableRow.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UPCTable',\r\n  components: {\r\n    TableRow,\r\n  },\r\n  data(){\r\n    return {\r\n      data: [],\r\n      upc: [],\r\n      headers: {\r\n        \"name\": \"Клиент\",\r\n        \"turnaround\": \"Обор\",\r\n         \"part_in_brand\": \"Доля в бренде\",\r\n         \"target\": \"Target\",\r\n         \"matrix\": \"Матрица\",\r\n         \"stok_qt\": \"stok(шт)\",\r\n         \"stock_per\": \"stok(%)\",\r\n         \"sell_out\": \"Sell Out\",\r\n         \"ytd\": \"YTD\",\r\n         \"trend\": \"trend\"\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getUpc(){\r\n      this.data = [];\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors/' + this.$route.params.doorId + '/upc' ,\r\n        headers: {\r\n          'X-Token' :this.$cookie.get('token')\r\n        }\r\n      }).then((resp) => {\r\n        console.log(resp)\r\n        this.upc = resp.data.UPCs;\r\n        for (let i = 0; i<=this.upc.length-1; i++){\r\n          axios({\r\n            method: \"get\",\r\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + this.$route.params.companyId + '/doors/' + this.$route.params.doorId + '/upc/' + resp.data.UPCs[i].id,\r\n            headers: {\r\n              'X-Token' :'ba8c2a64576b4f0fb2cd206f959dabd9'\r\n               // this.$cookie.get('token')\r\n            }\r\n        })\r\n        .then((resp)=>{\r\n          console.log(resp.data)\r\n          this.data.push(Object.assign({}, this.upc[i], resp.data))\r\n          console.log(this.data[i])\r\n            // this.companies = resp.data\r\n        })\r\n      }\r\n              });\r\n    },\r\n\r\n    headerClick(id){\r\n      this.$router.push({name: 'doors', params: {companyId : id}})\r\n      this.$store.dispatch('addNavItem', )\r\n\r\n    }\r\n  },\r\n  created(){\r\n    this.$store.dispatch('changeIsTable', true).\r\n    then(()=>{\r\n        this.getUpc()\r\n    })\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n"],"sourceRoot":"src\\components"}]}