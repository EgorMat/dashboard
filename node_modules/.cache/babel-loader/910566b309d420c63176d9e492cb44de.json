{"remainingRequest":"D:\\dashboard\\node_modules\\thread-loader\\dist\\cjs.js!D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js!D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dashboard\\src\\components\\CompaniesTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dashboard\\src\\components\\CompaniesTable.vue","mtime":1545850274535},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537776599066},{"path":"D:\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TableRow from './TableRow.vue';\nimport axios from 'axios';\nexport default {\n  name: 'CompaniesTable',\n  components: {\n    TableRow: TableRow\n  },\n  data: function data() {\n    return {\n      data: [],\n      headers: {\n        \"name\": \"Клиент\",\n        \"turnaround\": \"Обор\",\n        \"part_in_brand\": \"Доля в бренде\",\n        \"target\": \"Target\",\n        \"matrix\": \"Матрица\",\n        \"stok_qt\": \"stok(шт)\",\n        \"stock_per\": \"stok(%)\",\n        \"sell_out\": \"Sell Out\",\n        \"ytd\": \"YTD\",\n        \"trend\": \"trend\"\n      }\n    };\n  },\n  methods: {\n    getCompanies: function getCompanies() {\n      var _this = this;\n\n      axios({\n        method: \"get\",\n        url: \"https://luxb.news-mts.ru/api/v1/lists/companies\",\n        headers: {\n          'X-Token': 'ba8c2a64576b4f0fb2cd206f959dabd9'\n        }\n      }).then(function (resp) {\n        _this.companies = resp.data;\n\n        var _loop = function _loop(i) {\n          axios({\n            method: \"get\",\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + resp.data[i].id,\n            headers: {\n              'X-Token': 'ba8c2a64576b4f0fb2cd206f959dabd9' // this.$store.getters.getToken\n\n            }\n          }).then(function (resp) {\n            _this.data.push(Object.assign({}, _this.companies[i], resp.data)); // this.companies = resp.data\n\n          });\n        };\n\n        for (var i = 0; i <= _this.companies.length - 1; i++) {\n          _loop(i);\n        }\n      });\n    },\n    headerClick: function headerClick(id, name) {\n      this.$router.push({\n        name: 'doors',\n        params: {\n          companyId: id\n        }\n      });\n      this.$store.dispatch('addNavItem', name);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.$store.dispatch('changeIsTable', true).then(function () {\n      _this2.getCompanies();\n    });\n  }\n};",{"version":3,"sources":["CompaniesTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAgBA,OAAA,QAAA,MAAA,gBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,QAAA,gBADA;AAEA,cAAA;AACA;AADA,GAFA;AAKA,MALA,kBAKA;AACA,WAAA;AACA,YAAA,EADA;AAEA,eAAA;AACA,gBAAA,QADA;AAEA,sBAAA,MAFA;AAGA,yBAAA,eAHA;AAIA,kBAAA,QAJA;AAKA,kBAAA,SALA;AAMA,mBAAA,UANA;AAOA,qBAAA,SAPA;AAQA,oBAAA,UARA;AASA,eAAA,KATA;AAUA,iBAAA;AAVA;AAFA,KAAA;AAeA,GArBA;AAsBA,WAAA;AACA,gBADA,0BACA;AAAA;;AACA,YAAA;AACA,gBAAA,KADA;AAEA,aAAA,iDAFA;AAGA,iBAAA;AACA,qBAAA;AADA;AAHA,OAAA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AACA,cAAA,SAAA,GAAA,KAAA,IAAA;;AADA,mCAEA,CAFA;AAGA,gBAAA;AACA,oBAAA,KADA;AAEA,iBAAA,sDAAA,KAAA,IAAA,CAAA,CAAA,EAAA,EAFA;AAGA,qBAAA;AACA,yBAAA,kCADA,CAEA;;AAFA;AAHA,WAAA,EAQA,IARA,CAQA,UAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,OAAA,MAAA,CAAA,EAAA,EAAA,MAAA,SAAA,CAAA,CAAA,CAAA,EAAA,KAAA,IAAA,CAAA,EADA,CAEA;;AACA,WAXA;AAHA;;AAEA,aAAA,IAAA,IAAA,CAAA,EAAA,KAAA,MAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA;AAAA,gBAAA,CAAA;AAaA;AACA,OAtBA;AAuBA,KAzBA;AA2BA,eA3BA,uBA2BA,EA3BA,EA2BA,IA3BA,EA2BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,OAAA;AAAA,gBAAA;AAAA,qBAAA;AAAA;AAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,IAAA;AACA;AA9BA,GAtBA;AAsDA,SAtDA,qBAsDA;AAAA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA;AACA,aAAA,YAAA;AACA,KAFA;AAIA;AA3DA,CAAA","sourcesContent":["<template>\r\n  <div class=\"tableWrap\">\r\n    <TableRow :data=\"headers\" :name=\"headers.name\" class=\"headers\" />\r\n    <TableRow v-for=\"item in data\"\r\n              :data=\"item\"\r\n              :id=\"item.id\"\r\n              :name=\"item.name\"\r\n              :showOrder=\"true\"\r\n              v-on:headerClick=\"headerClick\"\r\n              :key=\"item.id\"/>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport TableRow from './TableRow.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'CompaniesTable',\r\n  components: {\r\n    TableRow\r\n  },\r\n  data(){\r\n    return {\r\n      data: [],\r\n      headers: {\r\n        \"name\": \"Клиент\",\r\n        \"turnaround\": \"Обор\",\r\n         \"part_in_brand\": \"Доля в бренде\",\r\n         \"target\": \"Target\",\r\n         \"matrix\": \"Матрица\",\r\n         \"stok_qt\": \"stok(шт)\",\r\n         \"stock_per\": \"stok(%)\",\r\n         \"sell_out\": \"Sell Out\",\r\n         \"ytd\": \"YTD\",\r\n         \"trend\": \"trend\"\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCompanies(){\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://luxb.news-mts.ru/api/v1/lists/companies\",\r\n        headers: {\r\n          'X-Token' : 'ba8c2a64576b4f0fb2cd206f959dabd9'\r\n        }\r\n      }).then((resp) => {\r\n        this.companies = resp.data;\r\n        for (let i = 0; i<=this.companies.length-1; i++){\r\n          axios({\r\n            method: \"get\",\r\n            url: \"https://luxb.news-mts.ru/api/v1/tables/companies/\" + resp.data[i].id,\r\n            headers: {\r\n              'X-Token' : 'ba8c2a64576b4f0fb2cd206f959dabd9'\r\n              // this.$store.getters.getToken\r\n            }\r\n        })\r\n        .then((resp)=>{\r\n          this.data.push(Object.assign({}, this.companies[i], resp.data))\r\n            // this.companies = resp.data\r\n        })\r\n      }\r\n              });\r\n    },\r\n\r\n    headerClick(id, name){\r\n      this.$router.push({name: 'doors', params: {companyId : id}})\r\n      this.$store.dispatch('addNavItem', name)\r\n    }\r\n  },\r\n  created(){\r\n    this.$store.dispatch('changeIsTable', true).then(()=>{\r\n      this.getCompanies();\r\n    })\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.tableWrap{\r\n  position: absolute;\r\n  top: 70px;\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components"}]}