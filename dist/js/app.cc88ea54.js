(function(t){function a(a){for(var n,r,i=a[0],l=a[1],c=a[2],u=0,h=[];u<i.length;u++)r=i[u],s[r]&&h.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(a);while(h.length)h.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],n=!0,i=1;i<e.length;i++){var l=e[i];0!==s[l]&&(n=!1)}n&&(o.splice(a--,1),t=r(r.s=e[0]))}return t}var n={},s={app:0},o=[];function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)r.d(e,n,function(a){return t[a]}.bind(null,n));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=a,i=i.slice();for(var c=0;c<i.length;c++)a(i[c]);var d=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0370":function(t,a,e){"use strict";var n=e("d671"),s=e.n(n);s.a},"05c0":function(t,a,e){},"0716":function(t,a,e){"use strict";var n=e("3646"),s=e.n(n);s.a},"07d0":function(t,a,e){"use strict";var n=e("9c8f"),s=e.n(n);a["default"]=s.a},"102a":function(t,a,e){"use strict";var n=e("2050"),s=e.n(n);s.a},"156c":function(t,a,e){},"1a87":function(t,a,e){},"1b8d":function(t,a,e){"use strict";var n=e("5b66"),s=e.n(n);s.a},2050:function(t,a,e){},2350:function(t,a,e){},2615:function(t,a,e){"use strict";var n=e("81e3"),s=e.n(n);a["default"]=s.a},"2d3e":function(t,a,e){},3646:function(t,a,e){},"375f":function(t,a,e){"use strict";var n=e("a4ba"),s=e.n(n);s.a},4678:function(t,a,e){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var a=o(t);return e(a)}function o(t){var a=n[t];if(!(a+1)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="4678"},"4c97":function(t,a,e){"use strict";var n=e("da00"),s=e.n(n);s.a},5041:function(t,a,e){"use strict";var n=e("05c0"),s=e.n(n);s.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var n=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table"},[e("TableNavigation",{attrs:{data:t.navigation}}),e("div",{staticClass:"date"}),e("router-view",{staticClass:"tab"})],1)},i=[],l=(e("a481"),e("bc3a")),c=e.n(l),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[t.showOrderWindow?e("OrderWindow",{attrs:{id:t.id},on:{close:function(a){t.showOrderWindow=!t.showOrderWindow}}}):t._e(),null!=t.name?e("li",{staticClass:"rowItem clickable",on:{click:function(a){t.$emit("headerClick",t.id,t.name)}}},[t._v("\n    "+t._s(t.name)+"\n  ")]):e("li",{staticClass:"rowItem clickable",on:{click:function(a){t.$emit("headerClick",t.id,t.id)}}},[t._v("\n    "+t._s(t.id)+"\n  ")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(null==t.data.turnaround?"-":t.data.turnaround)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(null==t.data.part_in_brand?"-":t.data.part_in_brand)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(null==t.data.target?"-":t.data.target)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(t.data.matrix)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(t.data.stok_qt)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(null==t.data.stock_per?"-":t.data.stock_per)+"\n")]),e("li",{staticClass:"rowItem order"},[t.showOrder?e("button",{staticClass:"orderButton",on:{click:function(a){t.showOrderWindow=!t.showOrderWindow}}},[t._v("Ордер")]):t._e()]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(t.data.sell_out)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(null==t.data.ytd?"-":t.data.ytd)+"\n")]),e("li",{staticClass:"rowItem"},[t._v("\n  "+t._s(null==t.data.trend?"-":t.data.trend)+"\n")])],1)},u=[],h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"orderWindow"},[e("div",{staticClass:"orderWindowItem first"},[t._v("\n    Ордер\n    "),e("button",{on:{click:function(a){t.$emit("close")}}},[t._v("\n      Закрыть\n    ")])]),t._l(t.data,function(a,n){return e("div",{staticClass:"orderWindowItem"},[t._v("\n    "+t._s(n)+" : "+t._s(a)+"\n  ")])}),e("button",{staticClass:"makeOrderButton",on:{click:t.makeOrder}},[t._v("\n    Дозаказать\n  ")])],2)},f=[],p={name:"OrderWindow",props:["id"],data:function(){return{data:null}},methods:{getOrderInfo:function(){var t=this;c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+this.id+"/order",headers:{"X-Token":this.$cookie.get("token")}}).then(function(a){console.log(a),t.data=a.data.order})},makeOrder:function(){c()({url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+this.id+"/order/file",method:"GET",headers:{"X-Token":this.$cookie.get("token")}}).then(function(t){console.log(t);var a=window.URL.createObjectURL(new Blob([t.data])),e=document.createElement("a");e.href=a,e.setAttribute("download","file.xls"),document.body.appendChild(e),e.click()})}},created:function(){this.getOrderInfo()}},b=p,m=(e("4c97"),e("2877")),v=Object(m["a"])(b,h,f,!1,null,null,null);v.options.__file="OrderWindow.vue";var g=v.exports,_={name:"TableRow",props:["data","id","name","showOrder"],components:{OrderWindow:g},methods:{},data:function(){return{showOrderWindow:!1,order:[]}}},j=_,k=(e("a248"),Object(m["a"])(j,d,u,!1,null,"6a37c9b0",null));k.options.__file="TableRow.vue";var w=k.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"nav"},[t._l(t.navItems,function(a,n){return t.$store.getters.getIsTable?e("div",{staticClass:"navItem",on:{click:function(a){t.itemClick(n)}}},[t._v("\n      "+t._s(a)+"\n              \\\n  ")]):t._e()}),t.$store.getters.getIsTable?t._e():e("div",{staticClass:"navItem"},[t._v("\n        Данные о продажах\n      ")])],2)])},y=[],T={computed:{navItems:function(){return this.$store.getters.getNav}},methods:{back:function(){console.log(this.$route.params),this.$store.dispatch("removeNavItem"),this.$router.go(-1)},itemClick:function(t){console.log(t),1==this.navItems.length&&this.$router.go(),2==this.navItems.length&&0==t&&(this.$router.go(-1),this.$store.dispatch("removeNavItem")),3==this.navItems.length&&(0==t&&(this.$router.go(-2),this.$store.dispatch("removeNavItem"),this.$store.dispatch("removeNavItem")),1==t&&(this.$router.go(-1),this.$store.dispatch("removeNavItem")))}}},x=T,$=(e("c47a"),Object(m["a"])(x,C,y,!1,null,"3708b05e",null));$.options.__file="TableNavigation.vue";var I=$.exports,D=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tableWrap"},[e("TableRow",{staticClass:"headers",attrs:{data:t.headers,name:t.headers.name}}),t._l(t.data,function(a){return e("TableRow",{key:a.id,attrs:{data:a,id:a.id,name:a.name,showOrder:!0},on:{headerClick:t.headerClick}})})],2)},O=[],E=(e("f751"),{name:"CompaniesTable",components:{TableRow:w},data:function(){return{data:[],headers:{name:"Клиент",turnaround:"Обор",part_in_brand:"Доля в бренде",target:"Target",matrix:"Матрица",stok_qt:"stok(шт)",stock_per:"stok(%)",sell_out:"Sell Out",ytd:"YTD",trend:"trend"}}},methods:{getCompanies:function(){var t=this;c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/lists/companies",headers:{"X-Token":"ba8c2a64576b4f0fb2cd206f959dabd9"}}).then(function(a){t.companies=a.data;for(var e=function(e){c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+a.data[e].id,headers:{"X-Token":"ba8c2a64576b4f0fb2cd206f959dabd9"}}).then(function(a){t.data.push(Object.assign({},t.companies[e],a.data))})},n=0;n<=t.companies.length-1;n++)e(n)})},headerClick:function(t,a){this.$router.push({name:"doors",params:{companyId:t}}),this.$store.dispatch("addNavItem",a)}},created:function(){var t=this;this.$store.dispatch("changeIsTable",!0).then(function(){t.getCompanies()})}}),N=E,z=(e("102a"),Object(m["a"])(N,D,O,!1,null,null,null));z.options.__file="CompaniesTable.vue";var W=z.exports,A=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tableWrap"},[e("TableRow",{staticClass:"headers",attrs:{data:t.headers,name:t.headers.name}}),t._l(t.data,function(a){return e("TableRow",{key:a.id,attrs:{data:a,id:a.id,name:a.name,showOrder:!1},on:{headerClick:t.headerClick}})})],2)},P=[],S={name:"DoorsTable",components:{TableRow:w},data:function(){return{data:[],headers:{name:"Клиент",turnaround:"Обор",part_in_brand:"Доля в бренде",target:"Target",matrix:"Матрица",stok_qt:"stok(шт)",stock_per:"stok(%)",sell_out:"Sell Out",ytd:"YTD",trend:"trend"}}},methods:{getDoors:function(){var t=this;this.data=[],c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+this.$route.params.companyId+"/doors",headers:{"X-Token":this.$cookie.get("token")}}).then(function(a){t.doors=a.data.doors;for(var e=function(e){c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+t.$route.params.companyId+"/doors/"+a.data.doors[e].id,headers:{"X-Token":"ba8c2a64576b4f0fb2cd206f959dabd9"}}).then(function(a){t.data.push(Object.assign({},t.doors[e],a.data))})},n=0;n<=t.doors.length-1;n++)e(n)})},headerClick:function(t){console.log(this.$route.params),this.$router.push({name:"upc",params:{companyId:this.$route.params.companyId,doorId:t}}),this.$store.dispatch("addNavItem",t)}},created:function(){var t=this;this.$store.dispatch("changeIsTable",!0).then(function(){t.getDoors()})}},R=S,B=Object(m["a"])(R,A,P,!1,null,null,null);B.options.__file="DoorsTable.vue";var L=B.exports,q={components:{TableRow:w,TableNavigation:I,CompaniesTable:W,DoorsTable:L},name:"Table",data:function(){return{data:[],companies:[],doors:[],company:null,door:null,navigation:[],headers:{name:"Клиент",turnaround:"Обор",part_in_brand:"Доля в бренде",target:"Target",matrix:"Матрица",stok_qt:"stok(шт)",stock_per:"stok(%)",sell_out:"Sell Out",ytd:"YTD",trend:"trend"}}},created:function(){(this.$cookie.get("token")||this.$cookie.get("token")!=this.$store.getters.getToken)&&this.$router.replace("/login"),this.$store.getters.getToken||this.$router.replace("/login")}},Y=q,M=(e("76a5"),Object(m["a"])(Y,r,i,!1,null,null,null));M.options.__file="Table.vue";var F=M.exports,X=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard"},[e("navigation"),e("main",[e("router-view")],1)],1)},U=[],V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"navBar"},[e("TableNavigation"),e("div",{staticClass:"mainNav"},[e("li",{class:{active:!t.isTable},on:{click:function(a){t.$router.push("/diagrams")}}},[t._v("\n    Диаграммы\n  ")]),e("li",{class:{active:t.isTable},on:{click:function(a){t.$router.push("/table")}}},[t._v("\n    Таблицы\n  ")])]),t._m(0)],1)},G=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dateBar"},[t._v("\n  Выбрать период\n  "),e("input",{attrs:{type:"date"}}),e("input",{attrs:{type:"date"}})])}],H={components:{TableNavigation:I},computed:{isTable:function(){return this.$store.getters.getIsTable}}},J=H,K=(e("1b8d"),Object(m["a"])(J,V,G,!1,null,"73c527af",null));K.options.__file="Navigation.vue";var Z=K.exports,Q={components:{navigation:Z},created:function(){this.$cookie.get("token")||(this.$router.replace("/login"),console.log("ura"))}},tt=Q,at=(e("721d"),Object(m["a"])(tt,X,U,!1,null,"13d8c866",null));at.options.__file="Dashboard.vue";var et,nt,st=at.exports,ot=e("1fca"),rt=e("a9be"),it=e.n(rt),lt={extends:ot["b"],mixins:[ot["d"].reactiveProp],props:["chartData"],data:function(){return{options:{plugins:{datalabels:{color:"#2E3D54",font:{size:16,family:"Roboto, sans-serif"},formatter:function(t,a){return console.log(a.chart.data.datasets[a.datasetIndex].data[a.dataIndex]),0==a.chart.data.datasets[a.datasetIndex].data[a.dataIndex]?"":a.chart.data.datasets[a.datasetIndex].label}}},scales:{yAxes:[{ticks:{beginAtZero:!0,mirror:!0},stacked:!0}],xAxes:[{stacked:!0}]},responsive:!1,maintainAspectRatio:!1}}},mounted:function(){this.addPlugin(it.a),this.renderChart(this.chartData,this.options)}},ct=lt,dt=(e("ae00"),e("2615")),ut=Object(m["a"])(ct,et,nt,!1,null,"55d58d77",null);"function"===typeof dt["default"]&&Object(dt["default"])(ut),ut.options.__file="ChartWindow.vue";var ht=ut.exports,ft={name:"app",components:{Table:F,Dashboard:st,ChartWindow:ht}},pt=ft,bt=(e("0716"),Object(m["a"])(pt,s,o,!1,null,"0a3fa890",null));bt.options.__file="App.vue";var mt=bt.exports,vt=e("8c4f"),gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tableWrap"},[e("TableRow",{staticClass:"headers",attrs:{data:t.headers,name:t.headers.name}}),t._l(t.data,function(t){return e("TableRow",{key:t.id,attrs:{data:t,id:t.id,name:t.name,showOrder:!1}})})],2)},_t=[],jt={name:"UPCTable",components:{TableRow:w},data:function(){return{data:[],upc:[],headers:{name:"Клиент",turnaround:"Обор",part_in_brand:"Доля в бренде",target:"Target",matrix:"Матрица",stok_qt:"stok(шт)",stock_per:"stok(%)",sell_out:"Sell Out",ytd:"YTD",trend:"trend"}}},methods:{getUpc:function(){var t=this;this.data=[],c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+this.$route.params.companyId+"/doors/"+this.$route.params.doorId+"/upc",headers:{"X-Token":this.$cookie.get("token")}}).then(function(a){console.log(a),t.upc=a.data.UPCs;for(var e=function(e){c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/tables/companies/"+t.$route.params.companyId+"/doors/"+t.$route.params.doorId+"/upc/"+a.data.UPCs[e].id,headers:{"X-Token":"ba8c2a64576b4f0fb2cd206f959dabd9"}}).then(function(a){console.log(a.data),t.data.push(Object.assign({},t.upc[e],a.data)),console.log(t.data[e])})},n=0;n<=t.upc.length-1;n++)e(n)})},headerClick:function(t){this.$router.push({name:"doors",params:{companyId:t}}),this.$store.dispatch("addNavItem")}},created:function(){var t=this;this.$store.dispatch("changeIsTable",!0).then(function(){t.getUpc()})}},kt=jt,wt=Object(m["a"])(kt,gt,_t,!1,null,null,null);wt.options.__file="UPCTable.vue";var Ct=wt.exports,yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"loginWindow"},[e("form",{staticClass:"loginForm"},[e("label",[t._v("\n    Логин:\n    "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],attrs:{type:"text",required:""},domProps:{value:t.login},on:{input:function(a){a.target.composing||(t.login=a.target.value)}}})]),e("label",[t._v("\n  Пароль:\n  "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),e("button",{staticClass:"loginButton",on:{click:t.logIn}},[t._v(" Вход ")])])])},Tt=[],xt={data:function(){return{login:null,password:null}},methods:{logIn:function(t){var a=this;t.preventDefault(),c()({method:"post",url:"https://luxb.news-mts.ru/api/v1/account/login",data:{login:this.login,password:this.password}}).then(function(t){a.$store.dispatch("setToken",t.data.token).then(function(){a.$cookie.set("token",t.data.token,3600),a.$router.replace("/diagrams")})})}}},$t=xt,It=(e("375f"),Object(m["a"])($t,yt,Tt,!1,null,null,null));It.options.__file="LoginWindow.vue";var Dt,Ot,Et=It.exports,Nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"charts"},[e("div",{staticClass:"line"},[e("div",{staticClass:"chartLabel"},[e("div",[t._v("\n      График продаж\n    ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.selected=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"sun"}},[t._v("Солнцезащитные")]),e("option",{attrs:{value:"optical"}},[t._v("Оптика")]),e("option",{attrs:{value:"all"}},[t._v("Суммарно")])])]),t.loaded?e("LineChartWindow",{attrs:{"chart-data":t.lineData,width:.5*t.width,height:400}}):t._e()],1),e("div",{staticClass:"stock"},[t._m(0),e("chart-window",{staticClass:"chart-window",attrs:{"chart-data":t.chartData,width:.85*t.width,height:300}})],1),e("div",{staticClass:"ytd"},[t._m(1),t.loaded?e("YTDChart",{attrs:{"chart-data":t.YTDData,width:.25*t.width,height:331}}):t._e()],1)])},zt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chartLabel"},[e("div",[t._v("\n    Actual stock\n    ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chartLabel"},[e("div",[e("p",[t._v("\n    YTD\n  ")])])])}],Wt={extends:ot["a"],mixins:[ot["d"].reactiveProp],props:["chartData"],data:function(){return{options:{plugins:{datalabels:{anchor:"end"}}}}},mounted:function(){this.addPlugin(it.a),this.renderChart(this.chartData,this.options)}},At=Wt,Pt=(e("ca06"),e("07d0")),St=Object(m["a"])(At,Dt,Ot,!1,null,"67aab6c0",null);"function"===typeof Pt["default"]&&Object(Pt["default"])(St),St.options.__file="YTDChart.vue";var Rt,Bt,Lt=St.exports,qt={extends:ot["c"],mixins:[ot["d"].reactiveProp],props:["chartData","options","type"],computed:{data:function(){return this.$store.getters.getLineChartData}},mounted:function(){this.renderChart(this.chartData,this.options)}},Yt=qt,Mt=(e("bbde"),e("d544")),Ft=Object(m["a"])(Yt,Rt,Bt,!1,null,"498f74a3",null);"function"===typeof Mt["default"]&&Object(Mt["default"])(Ft),Ft.options.__file="LineChartWindow.vue";var Xt=Ft.exports,Ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart"},[e("div",{staticClass:"xAxis"}),e("div",{staticClass:"diagram"},[e("div",{staticClass:"matrixPlan",style:{width:t.matrixPlanWidth,display:0==t.matrixPlan?"none":"block"}},[t._v("Matrix Plan")]),e("div",{staticClass:"total",style:{width:t.totalWidth}},[t._v("Total")]),e("div",{staticClass:"tRow"},[e("div",{staticClass:"matrixFact",style:{width:t.matrixFactWidth,display:0==t.matrixFact?"none":"block"}},[t._v("matrixFact")]),e("div",{staticClass:"actual",style:{width:t.actualWidth,display:0==t.actual?"none":"block"}},[t._v("actual")]),e("div",{staticClass:"oop",style:{width:t.oopWidth,display:0==t.oop?"none":"block"}},[t._v("oop")])])])])},Vt=[],Gt={props:["matrixPlan","total","matrixFact","actual","oop","totalWidth"],computed:{matrixPlanWidth:function(){var t=this.matrixPlan/this.total*800;return String(t)+"px"},matrixFactWidth:function(){var t=this.matrixFact/this.total*800;return String(t)+"px"},actualWidth:function(){var t=this.actual/this.total*800;return String(t)+"px"},oopWidth:function(){var t=this.oop/this.total*800;return String(t)+"px"}}},Ht=Gt,Jt=(e("0370"),Object(m["a"])(Ht,Ut,Vt,!1,null,"4022e3ca",null));Jt.options.__file="Diagram.vue";var Kt=Jt.exports,Zt={components:{LineChartWindow:Xt,YTDChart:Lt,"chart-window":ht,diagram:Kt},data:function(){return{width:screen.width,loaded:!1,selected:"sun",lineData:null,YTDData:null,datestart:"2018-08-08",dateend:"2018-08-20",chartData:{labels:[,,,],datasets:[{type:"horizontalBar",label:"Matrix plan",backgroundColor:"rgba(130, 161, 248, 0.84)",data:[600,"",""]},{type:"horizontalBar",label:"Total",backgroundColor:"rgba(0, 0, 0, 1)",borderColor:"rgba(0, 0, 0, 1)",data:["",700,""]},{type:"horizontalBar",label:"Matrix fact",backgroundColor:"rgba(133, 229, 82, 0.84)",data:["","",899]},{type:"horizontalBar",label:"Actual",backgroundColor:"rgba(0, 72, 173, 0.84)",data:["","",500]},{type:"horizontalBar",label:"OOP",backgroundColor:"rgba(240, 200, 0, 0.84)",data:["","",700]}]}}},methods:{getLineData:function(){var t=this;c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/diagram/sales?type="+this.selected+"&company=0",headers:{"X-Token":this.$cookie.get("token")}}).then(function(a){var e=a.data.years;console.log(e);for(var n=[],s=[],o=[],r=0;r<=e[0].points.length-1;r++)n.push({x:e[0].points[r].week,y:e[0].points[r].value});for(var i=0;i<=e[1].points.length-1;i++)s.push({x:e[1].points[i].week,y:e[1].points[i].value});for(var l=0;l<=e[2].points.length-1;l++)o.push({x:e[1].points[l].week,y:e[1].points[l].value});console.log(n),t.lineData={labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],datasets:[{label:e[0].year,fill:!1,pointRadius:0,borderColor:"#45E6B0",data:n},{label:e[1].year,fill:!1,pointRadius:0,borderColor:"#32CCFE",data:s},{label:e[2].year,fill:!1,pointRadius:0,borderColor:"#000000",borderDash:[1,5],data:o}]}})},getYTDData:function(){var t=this;c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/diagram/ytd",headers:{"X-Token":this.$cookie.get("token")}}).then(function(a){var e=[a.data.current_year.week,a.data.current_year.month,a.data.current_year.quarter],n=[a.data.last_year.week,a.data.last_year.month,a.data.last_year.quarter],s=[];t.YTDData={labels:["неделя","месяц","квартал"],datasets:[{label:"2018",backgroundColor:"#45E6B0",data:e},{label:"2017",backgroundColor:"#32CCFE",data:n},{label:"План 2018",backgroundColor:"#C4C4C4",data:s}]},console.log(a.data)})},recountData:function(t){t.preventDefault(),c.a.post("http://lux.news-mts/reinit")},fetchData:function(){var t=this;c.a.post("http://lux.news-mts.ru/actualstock",{datestart:this.datestart,dateend:this.dateend,headers:{"X-token":this.$cookie.get("token")}}).then(function(a){t.chartData={labels:[" "," "," "],datasets:[{type:"horizontalBar",label:"Matrix plan",backgroundColor:"rgba(130, 161, 248, 0.84)",data:[a.data.matrix_plan,0,0]},{type:"horizontalBar",label:"Total",backgroundColor:"rgba(0, 0, 0, 1)",borderColor:"rgba(0, 0, 0, 1)",data:[0,a.data.stock_qty_sum,0]},{type:"horizontalBar",label:"Matrix fact",backgroundColor:"rgba(133, 229, 82, 0.84)",data:[0,0,a.data.matrix_fact]},{type:"horizontalBar",label:"Actual",backgroundColor:"rgba(0, 72, 173, 0.84)",data:[0,0,a.data.actual_not_in_plan]},{type:"horizontalBar",label:"oop",backgroundColor:"rgba(240, 200, 0, 0.84)",data:[0,0,a.data.oop]}]}}).catch(function(t){console.log(t)})}},mounted:function(){console.log(this.width),this.loaded=!1,this.$store.dispatch("changeIsTable",!1),this.getLineData(),this.getYTDData(),this.loaded=!0},watch:{selected:function(){this.loaded=!1,this.getLineData(),this.loaded=!0}}},Qt=Zt,ta=(e("5041"),Object(m["a"])(Qt,Nt,zt,!1,null,"79a58f81",null));ta.options.__file="Diagrams.vue";var aa=ta.exports,ea=[{path:"/",component:st,meta:{requiresAuth:!0},children:[{path:"/diagrams",component:aa,meta:{requiresAuth:!0}},{path:"/table",component:W,meta:{requiresAuth:!0}},{name:"doors",path:"table/:companyId/doors",component:L,meta:{requiresAuth:!0}},{path:"table/:companyId/doors/:doorId/upc",component:Ct,name:"upc",props:!0,meta:{requiresAuth:!0}}]},{path:"/login",name:"login",component:Et}],na=ea,sa=(e("6b54"),e("2f62"));n["a"].use(sa["a"]);var oa=new sa["a"].Store({state:{date:{currentYear:null,lastYear:null},lineChartData:{labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],datasets:[{label:"",fill:!1,borderColor:"#45E6B0",data:[]},{label:"",fill:!1,borderColor:"#32CCFE",data:[]},{label:"",fill:!1,borderColor:"#000000",borderDash:[1,5],data:[]}]},nav:["Данные о продажах"],user:{token:""},isTable:!1},mutations:{SET_LINE_DATA:function(t,a){for(var e=0;e<=a.years.length-1;e++){t.lineChartData.datasets[e].label=a.years[e].year,t.lineChartData.datasets[e].data=[];for(var n=0;n<=a.years[e].points.length-1;n++)t.lineChartData.datasets[e].data.push({x:a.years[e].points[n].week,y:a.years[e].points[n].value})}},CHANGE_IS_TABLE:function(t,a){t.isTable=a},ADD_NAV_ITEM:function(t,a){t.nav.push(a)},REMOVE_NAV_ITEM:function(t){t.nav.pop()},SET_TOKEN:function(t,a){t.user.token=a},SET_DATE:function(t,a){t.date.currentYear=a.current_year[0].toString(),t.date.lastYear=a.last_year[0].toString()}},getters:{getIsTable:function(t){return t.isTable},getNav:function(t){return t.nav},getToken:function(t){return t.user.token},getDate:function(t){return t.date},getLineChartData:function(t){return t.lineChartData}},actions:{setLineData:function(t,a){var e=t.commit;c()({method:"get",url:"https://luxb.news-mts.ru/api/v1/diagram/sales?type="+a+"&company=0",headers:{"X-Token":"ba8c2a64576b4f0fb2cd206f959dabd9"}}).then(function(t){console.log(a),console.log(t.data),e("SET_LINE_DATA",t.data)})},changeIsTable:function(t,a){var e=t.commit;e("CHANGE_IS_TABLE",a)},addNavItem:function(t,a){var e=t.commit;e("ADD_NAV_ITEM",a)},removeNavItem:function(t,a){var e=t.commit;e("REMOVE_NAV_ITEM",a)},setToken:function(t,a){var e=t.commit;e("SET_TOKEN",a)},setDate:function(t,a){var e=t.commit;e("SET_DATE",a)}}}),ra=oa,ia=e("00e7"),la=e.n(ia),ca=e("5b20"),da=e.n(ca);n["a"].use(la.a),n["a"].config.productionTip=!1,n["a"].use(vt["a"]);var ua=new vt["a"]({routes:na});da.a.plugins.unregister(it.a),new n["a"]({render:function(t){return t(mt)},router:ua,store:ra}).$mount("#app")},"5b66":function(t,a,e){},"721d":function(t,a,e){"use strict";var n=e("2d3e"),s=e.n(n);s.a},"76a5":function(t,a,e){"use strict";var n=e("9949"),s=e.n(n);s.a},"81e3":function(t,a){},9949:function(t,a,e){},"9c8f":function(t,a){},a248:function(t,a,e){"use strict";var n=e("156c"),s=e.n(n);s.a},a4ba:function(t,a,e){},ae00:function(t,a,e){"use strict";var n=e("1a87"),s=e.n(n);s.a},bbde:function(t,a,e){"use strict";var n=e("2350"),s=e.n(n);s.a},c47a:function(t,a,e){"use strict";var n=e("cddb"),s=e.n(n);s.a},ca06:function(t,a,e){"use strict";var n=e("f715"),s=e.n(n);s.a},cddb:function(t,a,e){},d544:function(t,a,e){"use strict";var n=e("f79f"),s=e.n(n);a["default"]=s.a},d671:function(t,a,e){},da00:function(t,a,e){},f715:function(t,a,e){},f79f:function(t,a){}});
//# sourceMappingURL=app.cc88ea54.js.map